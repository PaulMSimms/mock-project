{% extends 'base.html.twig' %}
{% block title %}
{{blog.title}}
{% endblock %}
{% block body %}
	<div
		class="container">
		<!-- Blog Post Header -->
		<div class="page-header">
			<h1>{{ blog.title }}</h1>
			<p class="lead text-muted">
				<span class="glyphicon glyphicon-user" aria-hidden="true"></span>
				By
				{{ blog.author }}
			</p>
		</div>

		<!-- Blog Content -->
		<div class="row">
			<div class="col-md-12">
				<div class="well well-lg">
					<p class="lead">{{ blog.body|nl2br }}</p>
				</div>
			</div>
		</div>

		<!-- Comments Section -->
		<div class="row">
			<div class="col-md-12">
				<h3>
					<span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
					Comments
					<span class="badge">{{ comments|length }}</span>
				</h3>
				<hr>

				<!-- Comments List -->
				{% for comment in comments %}
					<div class="panel panel-default">
						<div class="panel-body">
							<blockquote>
								<p>{{ comment.content|nl2br }}</p>
								<footer>
									<span class="glyphicon glyphicon-user" aria-hidden="true"></span>
									<strong>{{ comment.author }}</strong>
								</footer>
							</blockquote>
						</div>
					</div>
				{% else %}
					<div class="alert alert-info text-center">
						<span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
						<strong>No comments yet.</strong>
						Be the first to share your thoughts!
					</div>
				{% endfor %}

				<!-- Comment Form -->
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 class="panel-title">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
							Leave a Comment
						</h4>
					</div>
					<div class="panel-body">
						{{ form_start(form, {'attr': {'role': 'form'}}) }}


						<div class="form-group">
							{{ form_label(form.content, 'Your Comment', {'label_attr': {'class': 'control-label'}}) }}
							{{ form_widget(form.content, {'attr': {'class': 'form-control', 'rows': '4', 'placeholder': 'Share your thoughts...'}}) }}
							{{ form_errors(form.content) }}
						</div>

						<div class="form-group">
							<button type="submit" class="btn btn-success btn-lg">
								<span class="glyphicon glyphicon-send" aria-hidden="true"></span>
								Post Comment
							</button>
						</div>
						{{ form_end(form) }}
					</div>
				</div>
			</div>
		</div>
	</div>

	{% block stylesheets %}
		<style>
			.page-header {
				border-bottom: 2px solid #eee;
				margin-bottom: 30px;
			}

			.page-header h1 {
				margin-bottom: 10px;
				color: #337ab7;
			}

			.well {
				font-size: 16px;
				line-height: 1.6;
			}

			.panel-body blockquote {
				margin: 0;
				border-left: 5px solid #337ab7;
			}

			.panel-body blockquote footer {
				color: #777;
				margin-top: 10px;
			}

			.panel-primary > .panel-heading {
				background-color: #337ab7;
				border-color: #337ab7;
			}

			.form-group .control-label {
				font-weight: 600;
				color: #555;
			}

			.btn-success {
				padding: 10px 20px;
			}

			.badge {
				background-color: #5cb85c;
				margin-left: 5px;
			}

			.alert-info {
				padding: 20px;
				margin: 20px 0;
			}

			.glyphicon {
				margin-right: 5px;
			}
			</style>
	{% endblock %}
{% endblock %}
